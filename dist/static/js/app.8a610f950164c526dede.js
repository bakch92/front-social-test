webpackJsonp([1],{"3ezZ":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},o,!1,function(t){n("s347")},null,null).exports,a=n("/ocq"),r=n("Dd8w"),c=n.n(r),l=n("NYxO"),u={name:"Main",computed:c()({},Object(l.c)(["token","user"]),{isLoggedIn:function(){return null!=this.token},isAdmin:function(){return this.user&&"ADMIN"===this.user.roleType},username:function(){return this.user?this.user.nick_name:""},roleType:function(){return this.user?this.user.role_type:""}})},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bp-main-continer"},[n("section",{staticClass:"main-top-section"},[n("p",[t._v("Spring Social Login")]),t.isLoggedIn?n("p",[t._v("username "+t._s(t.username))]):t._e(),t.isLoggedIn?n("p",[t._v("role: "+t._s(t.roleType))]):t._e()])])},staticRenderFns:[]};var A=n("VU/8")(u,d,!1,function(t){n("R46K")},"data-v-315b8069",null).exports,g=function(t){return"http://ec2-54-180-154-36.ap-northeast-2.compute.amazonaws.com:8181/oauth2/authorization/"+t+"?redirect_uri=http://ec2-13-125-98-133.ap-northeast-2.compute.amazonaws.com:80/oauth/redirect"},p=function(t){switch(t){case"google":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAArlBMVEVHcEw/hfbvgxs6ic4yqlQ/gvJAhvhhepCmcULsQjPsQjPqQjPsQjQzqVPrQjPxeSAyq1QyqlQxp1PnQTL8vwAzqVTrQjMyqlQ5qVE/hPU/hPYyqlQ+g/X9wAA/h/TtQjP7vADqQTP9wAA/hPU/hff7uQXzhxk3l5zAth4+g/P8wAA5k7LeuhPnQTM+gvEyp1P5uwAxplM/hPUyp1H3rAjtaCSIsDI6i8w0n3RXq0M974clAAAALXRSTlMAjQ8P7TDhAwjwcUbYSKE0gNAdHr1rup0x8Lm1SomBgmBf6c2gpff892Rt4qhtntK7AAACRUlEQVRYw+1XaXeiMBRFgg1r2GQTq7XaTjszGiitM/P//9gQljSWABFPv3nVox+89928Je8gSTfc8M1QfdsgsH11Als2dGSaGoFpIt2QL6P7eqgdWGjh1r8gum4eugi3oi6ML9EpkC2UOm74GqYxnk51ox36YdrX8TVdHfV/HV/anvE1M0QIhaYmyoc+mz8TGb4MJSj7BtLE4quIiY5sVYKNsGqEInzJ0JjjnneNvBHgy08flL+FX04H4Sgf2o/vz218OGH+4H2WZbUCmjK/UF6UAtn7h0i/cWE/Zo3CZsoBJPiQNXhmDEAw5wD0pqDCgqkgXN9xsOZZVJ9agXtWdnbs4m3PFVi0Aj9HBZa8KslU4GFM4LgE3yFw0RHAlUnk5qCnjLO3TwxXQaKN9BIzAqvZJ3atArcPYNPK2Qk7kB1jCrBsBV7510GVxZd/OXZj7h9WScNP5v3jTPgYR9wk7VsDO9A7jqeC8LESwAEDx1nPtMq/TznOq3dXAc5pCpNV30RbCq4MYKJwbhOudsN9WPdSVAnUp4hixoQX/DqOG5Ck2K3jk1cpYXmgXCyqZzkuzn+0AnswcCtZSpUDAuLCTaMoSl2l/F0Uf/9U/Lv54G5ylAJ3QfTyWiF5Hb4wS4UunSgQD+UxkjUYuVtBR6Gg36XCKL/0ECiV57YlmqrUpXGAyP1upZj2Q+2++mDsWoIbywtcGhRTI4rjiW8ZL0gVNollRZ34sn0FLKdsgBpu6ljehHUHvdgiiD110rJsbqTbU8sNAvgPj0mre8ZWN6oAAAAASUVORK5CYII=";case"facebook":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAALVBMVEU7WZg7WZg8W5o8W5g9X447WZj///8yVJb19vhqhLPN1ONTc6qIoMSxvtaVpsgQygVPAAAABXRSTlP9/NtjCH+oUcUAAAEDSURBVEjHY3BWFMQDhEwYjAJC8QBRZQbVULwgiEEUv4JABlb8CgIGTkE5EJTiVhAevfPkzNm7cSoI37Oioy2jo2srLgVxbWkgkLEdh4LoZQQURKWl4VUQfo2Agso2Agpq0wgo2EFAQfgxsGzXqlVrsYcDxI25W4FhHYpHwdJS3JG1DKTgeCh+BRnTh7ICUFKEKCjHGlDVZ4AAFJkZd4CMk1gUwGIaDHJLMRREoyjIKyVgQg4hEzoJmdAdit+EjFZCvlhKwARsCqo7gAAsCWJcxxLUM4EAHNQvgYyt2OOiFB4XpcM2yY0qGNwKRPErCMSsmlEVMDEY4VegzIDRPIAogDcPALqkycM0E6OAAAAAAElFTkSuQmCC";case"naver":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAKlBMVEVHcEwQqgAOpQANpAAOpAAeyAD///8bxAARqwBp21Xk+eA80CJW1kCw7KZApJ5fAAAABXRSTlMA7LNCXU5PuLYAAADxSURBVEjH7dYxDoJAEAXQKbyBBfYW1noCL7HZEPtNMGwBCUFLK70AFB5BsbTB3oIDUHgaBxESlN3facOvJvHnTbWMRIvJwZjdlGjkxJYES5pHkTBGxmOaCVtkSI61IALa2wubofD7wurGuXanTuF44lyqqaim7LMgU8VZJzzdq8n7El4Fdeapv1ALSiNBJUDgHUDQSFAJEHgHELQAgkqAoDIk6BQIqrQIum0ZBK80FmrBL4Dgu0gQJRBEjgQXCc0Oo9DsMAsuEt47zILMkbA1FNoHJx+9Tw8/3uEr9/8CPIv2wypCPs223/k0w+OO/h48AfrSASA123dQAAAAAElFTkSuQmCC";case"kakao":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAV1BMVEVHcEz95AD74wD74gD85QD64QD74QD74QD74QD74wD74gD74wD74gD74QA8Hh44Gh7y2AFGKRx8YBRfQhjgxgSegw6tkwyOchFTNhprThbGrAjTuQa5nwoG7ISxAAAADXRSTlMABzOdD97t9x1zuzo+dvp0aAAAAvJJREFUWMOtl4myqjAMQBEBL3pp0339/+98bQFFKNyiLzMyzmhOs5EmVZWkqft7exsK5dbe+7qpXnKpr12xdiIMt+5aX2b9pm+HD6Ttm1m/+0Q/GDESLh/qB+n66EXdfqofglkHB67DF3Jtqrr7BtDVVf/MH5x5zE701X34Su7VhyGczWirgwqEl+wnotrVdVJRw7RmhirpdhlZAHCrGCHoKYQwZTkcAOBNXZqF8lOMzCG2FnDJEEY5wUzyPwFgKToQauEYAFKjQ9ESjgAgCPpDiIB9QIH+hvAGkAX60Ys9gGOoSJjLA4CiQqGQBXiNCwHaZwHJAE2TmJBNQ1NI2OiYSdXJxizTHMCxaICfXj9JKAcVdDS3JBah5QYjyh1ZRaFapYB6ywduPSUyvJDhPAZcR4ADE/Rh/BeRGYDC04snBhk0jPM2hnUCGAf0qY+Q2gKA4rlQBokRVqAo92QBkC99/MrDDgBrD4Y4zl6AGKY5TwWAcLrGMoTxBQihnSslBxjeXRCDVcqDXQCEBG4mQCYGg0ALALOTXSwCME5Z0HawejeIg5wcTAAKTiilLAgDEL6ZEESDDR+TjReluC6k9LqK4IFA4VwKlkF03gZWLCSAWJeRlCllNVe6YsiohCOKEiqCUE1jWZL0RIGfA9g5SWT6zF9J7PBjl09PvHyfl/1AHfUTvOxJOw1lTtKZdvDe0iw73ZBWXdnrAn17dC94dlJ/czNZgw4aGybU/XU3crXbGkNBC15wve/cjjhUmN27nd9vK4m3Z2NkhIWyAQMUfqqNEnq18A6yU1IGwNkUMCWlUEJIbx3fnZIyADcNJB6G4wFrc7XNI0Kqd8ULhrysBanxMQ+FA+N2Tgwt8Pj41ZzYboYkUn58nFQ3s7IThcfDOCv3p7atVcnFaf3RZX8ppHSP7zeW6rfds2+1YGRsbB97W1uZQ+PW9vHeGCLY/J/NNXjxez1tRHf9vSzW7+YRtvfuVihd2N4fy+09IZqfE9I8T/8HxHrZ6Vi0v8gAAAAASUVORK5CYII="}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#";return{bind:function(e,n,s){e.clickOutsideEvent=function(o){e===o.target||e.contains(o.target)||o.target.id===t||s.context[n.expression](o)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}}},m={name:"NavBar",props:["stickyMode"],data:function(){return{isOpenAccountDropdown:!1,menu:[]}},created:function(){this.isLoggedIn&&this.fetchUser()},methods:c()({},Object(l.b)(["fetchUser"]),{go:function(t){this.close(),this.$route.path!==t&&this.$router.push(t)},close:function(){this.isOpenAccountDropdown=!1},logout:function(){this.close(),this.$emit("onLogout")}}),computed:c()({},Object(l.c)(["token","user"]),{isLoggedIn:function(){return null!=this.token},isAdmin:function(){return this.user&&"ROLE_ADMIN"===this.user.roleType}}),directives:{"click-outside":h()}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bp-header-container",class:{sticky:t.stickyMode}},[n("header",{staticClass:"bp-header"},[n("a",{staticClass:"logo-link",on:{click:function(e){return t.go("/")}}}),n("nav",{staticClass:"bp-nav"},[n("ul",{staticClass:"nav-list"},t._l(t.menu,function(e){return n("li",{staticClass:"nav-list-item"},[n("a",{staticClass:"nav-list-item-link",on:{click:function(n){return t.go(e.path)}}},[t._v(t._s(e.name))])])}),0)]),n("div",{staticClass:"bp-account"},[t.isLoggedIn?n("button",{staticClass:"account-button loggedin",attrs:{type:"button"},on:{click:t.logout}},[t._v("로그아웃")]):n("button",{staticClass:"account-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("onOpenLoginModal")}}},[t._v("로그인")])])])])},staticRenderFns:[]};var v=n("VU/8")(m,f,!1,function(t){n("ug9u"),n("RHyK")},"data-v-432eb5dc",null).exports,C=n("mtWM"),w=n.n(C),k=n("424j"),E={state:{user:null,token:null},getters:{user:function(t){return t.user},token:function(t){return t.token}},actions:{fetchUser:function(t,e){var n=t.state,s=t.commit;n.user?e&&e():T.getUser(function(t){s("setUser",t.user),e&&e()})}},mutations:{setToken:function(t,e){t.token=e},setUser:function(t,e){t.user=e}}};s.a.use(l.a);var y=new l.a.Store({plugins:[Object(k.a)({storage:window.sessionStorage})],modules:{account:E},strict:!1}),b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){console.log(t)};return function(n){switch(n.data.header.code){case 200:t(n.data.body);break;default:e(n.data.header.message)}}},U=function(t){return"/consulting/api/v1"+t},L=function(t){return y.getters.token&&(t||(t={headers:{}}),t.headers||(t.headers={}),t.headers.Authorization="Bearer "+y.getters.token),t},B=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t.response.data.message},s=arguments[3];w.a.get(U(t),L(s)).then(b(e)).catch(n)},Q=function(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t.response.data.message},o=arguments[4];w.a.post(U(t),e,L(o)).then(b(n)).catch(s)},M="/auth/login",O="/users",T={login:function(t,e,n){Q(M,t,e,n)},getUser:function(t){B(O,t)}},D={props:["isOpen"],data:function(){return{id:"",password:"",isProcess:!1,cannotLogin:!1,isLoginFailed:!1,socials:[{socialType:"google",src:p("google"),width:"32px",height:"32px",comment:"구글 로그인"},{socialType:"facebook",src:p("facebook"),width:"32px",height:"32px",comment:"페이스북 로그인"},{socialType:"naver",src:p("naver"),width:"32px",height:"32px",comment:"네이버 로그인"},{socialType:"kakao",src:p("kakao"),width:"32px",height:"32px",comment:"카카오 로그인"}]}},methods:c()({},Object(l.b)(["fetchUser"]),Object(l.d)(["setToken"]),{login:function(){var t=this;this.isProcess||(""!==this.id.trim()&&""!==this.password.trim()?T.login({id:this.id,password:this.password,socialType:"LOCAL"},function(e){t.setToken(e.token),t.id=t.password="",t.isProcess=!1,t.fetchUser(function(){t.$emit("onCloseModal")})},function(e){401===e.response.data.status&&(t.isLoginFailed=!0)}):this.cannotLogin=!0)},inputChanged:function(){this.cannotLogin&&""!==this.id.trim()&&""!==this.password.trim()&&(this.cannotLogin=!1)},socialLoginUrl:function(t){return g(t)}})},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-container"},[n("div",{class:{"modal-open":t.isOpen}},[n("div",{staticClass:"container"},[n("div",{staticClass:"modal",class:{show:t.isOpen}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("로그인")]),n("button",{staticClass:"close",on:{click:function(e){return t.$emit("onCloseModal")}}},[t._v("×")])]),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"socal_login_container"},[t._l(t.socials,function(e){return[n("a",{staticClass:"social_btn",attrs:{href:t.socialLoginUrl(e.socialType)}},[n("img",{staticClass:"social_login",style:{width:e.width,height:e.height},attrs:{src:e.src}}),t._v(t._s(e.comment))])]})],2),t._m(0),n("div",{staticClass:"form-warp"},[n("div",{staticClass:"form-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"아이디"},domProps:{value:t.id},on:{input:[function(e){e.target.composing||(t.id=e.target.value)},t.inputChanged],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}})]),n("div",{staticClass:"form-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"비밀번호"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.inputChanged],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}})]),n("div",{staticClass:"form-item"},[n("p",{staticClass:"login-error",class:{show:t.cannotLogin}},[t._v("아이디 혹은 비밀번호가 입력되지 않았습니다.")]),n("p",{staticClass:"login-error",class:{show:t.isLoginFailed}},[t._v("아이디 혹은 비밀번호를 확인해주세요.")])]),n("div",{staticClass:"form-item"},[n("button",{staticClass:"btn btn-block btn-primary",class:{disabled:t.isProcess},on:{click:t.login}},[t._v("로그인")])])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.$emit("onCloseModal")}}},[t._v("닫기")])])])])])])]),n("div",{staticClass:"modal-backdrop",class:{show:t.isOpen}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"or-separator"},[e("span",{staticClass:"or-text"},[this._v("OR")])])}]};var V={components:{NavBar:v,LoginModal:n("VU/8")(D,j,!1,function(t){n("3ezZ")},"data-v-782a5736",null).exports},data:function(){return{isLoginModalOpen:!1,isScrollTop:!0}},created:function(){var t=this;window.addEventListener("scroll",function(e){t.isScrollTop=0===window.scrollY})},methods:c()({},Object(l.d)(["setToken","setUser"]),{openLoginModal:function(){this.isLoginModalOpen=!0},logout:function(){this.setToken(null),this.setUser(null),alert("로그아웃되었습니다."),"/"!==this.$route.path&&this.$router.push("/")}}),computed:c()({},Object(l.c)(["token"]),{stickyMode:function(){return!(this.isScrollTop&&"/"===this.$route.path)}})},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bp-content-container"},[n("nav-bar",{attrs:{stickyMode:t.stickyMode},on:{onOpenLoginModal:t.openLoginModal,onLogout:t.logout}}),n("router-view",{staticClass:"router"}),t.isLoginModalOpen?n("login-modal",{attrs:{isOpen:t.isLoginModalOpen},on:{onCloseModal:function(e){t.isLoginModalOpen=!1}}}):t._e()],1)},staticRenderFns:[]},x=n("VU/8")(V,R,!1,null,null,null).exports,q={created:function(){var t=this.$route.query.token;console.log("token",t),t&&(this.setToken(t),this.fetchUser()),this.$router.replace("/")},methods:c()({},Object(l.b)(["fetchUser"]),Object(l.d)(["setToken"]))},S={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},H=n("VU/8")(q,S,!1,null,null,null).exports;s.a.use(a.a);var N=new a.a({mode:"history",routes:[{path:"/",component:x,children:[{path:"/",name:"Main",component:A},{path:"/oauth/redirect",name:"OauthRedrect",component:H}]}]});s.a.config.productionTip=!1;w.a.defaults.baseURL="http://ec2-54-180-154-36.ap-northeast-2.compute.amazonaws.com:8181",new s.a({el:"#app",router:N,store:y,components:{App:i},template:"<App/>"})},R46K:function(t,e){},RHyK:function(t,e){},s347:function(t,e){},ug9u:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8a610f950164c526dede.js.map